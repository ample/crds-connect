<div class="connect-search">
  <div class="connect-layout-container container">
    <form action="." class="searchbar"
          (ngSubmit)="$event.preventDefault();onSearch(state.searchBarText)">
      <div class="input-group">
        <!-- Search Text Box: -->
        <input type="search"
                class="form-control"
                id="search-bar-input"
                [(ngModel)]="state.searchBarText"
                [ngModelOptions]="{standalone: true}"
                (keyup)="searchKeyUp()"
                placeholder={{placeholderTextForSearchBar}}>

        <div class="searchbar-wrapper"></div>

        <!-- Reset Search Button: -->
        <span class="addon-btn">
          <button type="button" role="button" [hidden]="isSearchClearHidden" (click)="resetSearchInput($event)" [hidden]="state.isFilterDialogOpen">
            <svg class="icon icon-1" viewBox="0 0 256 256">
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/svgs/icons.svg#close-thin"></use>
            </svg>
          </button>
        </span>

        <!-- Filters Button: -->
        <span class="addon-btn" *ngIf="appSettings.isSmallGroupApp()">
          <button type="button" role="button" (click)="toggleFilters()" [class.open]="state.isFilterDialogOpen" [class.active]="state.isFilterActive">
            <svg class="icon icon-1" viewBox="0 0 256 256">
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/svgs/icons.svg#equalizer"></use>
            </svg>
          </button>
        </span>

        <!-- Submit Button: -->
        <span class="input-group-btn">
          <button type="submit" class="btn btn-secondary" (click)="onSearch(state.searchBarText)" [disabled]="state.isFilterDialogOpen">
            <svg class="icon icon-1" viewBox="0 0 256 256">
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/svgs/icons.svg#search"></use>
            </svg>
          </button>
        </span>
      </div>

      <!-- Toggle View Button: -->
      <button type="button" class="btn btn-toggle btn-link text-white" (click)="toggleView()">{{state.viewButtonText}}</button>
    </form>
  </div>
</div>

<app-filters *ngIf="appSettings.isSmallGroupApp()"
             [hidden]="!state.isFilterDialogOpen"
             [searchKeywordString]="state.searchBarText"
             class="connect-container connect-layout-container"></app-filters>
