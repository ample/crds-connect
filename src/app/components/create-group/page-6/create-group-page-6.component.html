<div class="connect-container connect-layout-container">
    <div class="row soft-top">
        <div class="col-sm-12 soft-top">
            <p class="media-meta flush-bottom">STEP 6 OF 6</p>
            <h3 class="media-heading font-family-condensed-extra text-uppercase">Tell us about yourself</h3>
            <hr>
        </div>
    </div>
    <div class="row" *ngIf="isComponentReady">
        <div class="col-sm-12">
            <form [formGroup]="profileForm" (ngSubmit)="onSubmit(profileForm)">
                <div class="soft-top custom-input soft-bottom">
                    <p class="control-label soft-ends">What site do you regularly attend</p>
                    <select class="form-control" name="crossroadsSite" formControlName="crossroadsSite" [(ngModel)]="createGroupService.profileData.congregationId">
                        <option value="null" disabled="true">Select a site...</option>
                        <option *ngFor="let site of sites" [value]="site.dp_RecordID">{{site.dp_RecordName}}</option>
                    </select>
                </div>
                <div class="alert alert-danger" role="alert" [hidden]="(!isSubmitted) || profileForm.controls['crossroadsSite'].valid">
                    <crds-content-block id="oneOptionMustBeSelected"></crds-content-block>
                </div>
                <p class="control-label soft-ends">Gender</p>
                <div class="soft-bottom">
                    <div class="radio radio-inline">
                        <input id="inlineRadioBtn1" name="gender" type="radio" [value]="1" formControlName="gender" [(ngModel)]="createGroupService.profileData.genderId">
                        <label for="inlineRadioBtn1">
                        Male
                    </label>
                        <div class="check" tabindex="0"></div>
                    </div>
                    <div class="radio radio-inline">
                        <input id="inlineRadioBtn2" name="gender" type="radio" [value]="2" formControlName="gender" [(ngModel)]="createGroupService.profileData.genderId">
                        <label for="inlineRadioBtn2">
                        Female
                    </label>
                        <div class="check" tabindex="0"></div>
                    </div>
                </div>
                <div class="alert alert-danger" role="alert" [hidden]="(!isSubmitted) || profileForm.controls['gender'].valid">
                    <crds-content-block id="oneOptionMustBeSelected"></crds-content-block>
                </div>
                <div class="soft-ends">
                    <p class="control-label">What's your address?</p>
                    <crds-content-block id="groupToolCreateGroupAddressHelp"></crds-content-block>
                    <!--ADDRESS LINE 1-->
                    <div class="row">
                        <div class="form-group col-xs-12">
                            <label class="sr-only" for="addressLine1">Address Line 1</label>
                            <input type="text" class="form-control" maxlength="75" placeholder="Address Line 1" id="addressLine1" formControlName="addressLine1"
                                name="addressLine1" [(ngModel)]="createGroupService.profileData.addressLine1">
                            <p class="alert alert-danger push-half-top" *ngIf="isSubmitted && !profileForm.controls['addressLine1'].valid">Address Line 1 is required!</p>
                        </div>
                    </div>

                    <!--ADDRESS LINE 2-->
                    <div class="row">
                        <div class="form-group col-xs-12">
                            <label class="sr-only" for="addressLine2">Address Line 2</label>
                            <input type="text" class="form-control" maxlength="75" placeholder="Address Line 2" id="addressLine2" formControlName="addressLine2"
                                name="addressLine2" [(ngModel)]="createGroupService.profileData.addressLine2">
                            <p class="alert alert-danger push-half-top" *ngIf="isSubmitted && !profileForm.controls['addressLine2'].valid">Address Line 2 is invalid</p>
                        </div>
                    </div>

                    <!--CITY-->
                    <div class="row" >
                        <div class="form-group col-xs-12">
                            <label class="sr-only" for="city">City2</label>
                            <input type="text" class="form-control" maxlength="22" placeholder="City" id="city" formControlName="city" name="city" [(ngModel)]="createGroupService.profileData.city">
                            <p class="alert alert-danger push-half-top" *ngIf="isSubmitted && !profileForm.controls['city'].valid">City is required!</p>
                        </div>
                    </div>

                    <div class="row">
                        <!--STATE-->
                        <div class="form-group col-xs-6" >
                            <label class="sr-only" for="state">State</label>
                            <select formControlName="state" class="form-control override-styles-for-dropdown" placeholder="State" id="state" [(ngModel)]="createGroupService.profileData.state">
                                <option *ngFor="let state of stateList" [value]="state">{{state}}</option>
                            </select>
                        </div>

                        <!--ZIP-->
                        <div class="form-group col-xs-6">
                            <label class="sr-only" for="zip">Zip Code</label>
                            <input type="tel" onlyTheseKeys="[0-9]" class="form-control" maxlength="10" placeholder="Zip Code" formControlName="zip"
                                id="zip" name="zip" pattern="^(\d{5}|\d{5}-\d{4})$" [(ngModel)]="createGroupService.profileData.postalCode">
                        </div>

                        <div class="col-xs-12 error help-block" *ngIf="(isSubmitted && !profileForm.controls['state'].valid ) || (isSubmitted && !profileForm.controls['zip'].valid)">
                            <ul>
                                <li class="alert alert-danger push-half-top" *ngIf="isSubmitted  && !profileForm.controls['state'].valid">State is required.</li>
                                <li class="alert alert-danger push-half-top" *ngIf="isSubmitted && !profileForm.controls['zip'].valid">Zip is required.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="soft-ends">
                    <hr>
                    <button type="submit" class="btn btn-secondary btn-block-mobile pull-right">Preview Your Group</button>
                    <button type="button" (click)="back()" class="btn btn-gray btn-default btn-block-mobile">Back</button>
                </div>
            </form>
        </div>

    </div>
</div>
<div>
    <pre>{{createGroupService.profileData | json }}</pre>
</div>