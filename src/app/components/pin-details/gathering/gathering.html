<div *ngIf="ready">
    <div class="pin-detail-header">
        <pin-header [isGathering]="true" [isPinOwner]="isPinOwner" [lastName]="pin.lastName" [firstName]="pin.firstName" [contactId]="pin.contactId"></pin-header>
        <readonly-address [isGathering]="true" [isPinOwner]="isPinOwner" [isInGathering]="isInGathering" [address]="pin.address"
            [distance]="pin.proximity"></readonly-address>
    </div>
    <button class="btn primary btn-primary" *ngIf="isPinOwner" (click)="edit()"> Edit </button>

    <p>{{pin.gathering.groupDescription}}</p>
    <div *ngIf="!isInGathering && !isPinOwner">
        <button class="btn primary" (click)="requestToJoin()">Join gathering</button>
        <say-hi [isGathering]="true" [isLoggedIn]="isLoggedIn" [user]="user" [pin]="pin" [buttonText]="sayHiButtonText"></say-hi>
    </div>
    <pin-login-actions *ngIf="!isLoggedIn" [isGathering]="true"></pin-login-actions>
    <gathering-requests *ngIf="isPinOwner" [pin]="pin"></gathering-requests>
    <div *ngIf="isInGathering">
        <span class="h2">Participants</span>
        <hr/>
        <div *ngFor="let participant of pin.gathering.Participants">
            <div class="row">
                <participant-card [participant]="participant" [pinParticipantId]="pin.participantId"></participant-card>
            </div>
        </div>
    </div>
    <invite-someone *ngIf="isPinOwner" [gatheringId]="pin.gathering.groupId" [participantId]="pin.participantId"></invite-someone>
</div>