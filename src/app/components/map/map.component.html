<script src="../../scripts/markerclusterer.js"></script>

<sebm-google-map id="connect"
                 [latitude] = "searchResults ? searchResults.centerLocation.lat : mapSettings.lat"
                 [longitude] = "searchResults ? searchResults.centerLocation.lng : mapSettings.lng"
                 [zoom] = "mapSettings.zoom"
                 [disableDefaultUI] = "mapSettings.disableDefaultUI"
                 [zoomControl] = "mapSettings.zoomControl"
                 [streetViewControl] = "false">

    <div *ngFor="let pin of searchResults?.pinSearchResults">
        <sebm-google-map-marker [latitude] = "pin.address.latitude"
                                [longitude] = "pin.address.longitude"
                                iconUrl = "{{getStringByPinType(pin.pinType)}}"
                                (markerClick) = "displayDetails(pin)" >
        <sebm-google-map-info-window [disableAutoPan]="true" >
            <strong> Welcome to Crossroads! </strong><br>{{pin.address.addressLine1}}<br>{{pin.address.city}}, {{pin.address.state}}  {{pin.address.zip}}
        </sebm-google-map-info-window>
        </sebm-google-map-marker>
    </div>
   

    <google-map-cluster *ngIf="searchResults?.pinSearchResults.length > 0"></google-map-cluster>

    <app-map-content></app-map-content>

</sebm-google-map>

<app-map-footer></app-map-footer>
